---
sidebar_label: "Managing SBOMs and Vulnerabilities"
title: Managing SBOMs and Vulnerabilities
sidebar_position: 1
toc_min_heading_level: 2
toc_max_heading_level: 5
---

### Generating SBOMs

In order to generate an SBOM out of a build pipeline you must first [install the Scribe Valint plugin in your CI system](../integrating-scribe/ci-integrations/). After this, Valint will generate an SBOM and upload it to the Scribe Hub upon every pipeline run. Valint generates an SBOM for build artifacts you specify as targets. 
In your build script call,

```
valint bom <target> <flags>
```

```<target>``` is a build artifact of either type of container image, file or file directory, or a git repo formatted as ```[<image:tag>, <dir path>, <git url>]```
You can label several different build artifacts in one or more pipelines as belonging to the same logical application and its version. To this end use the special flags ```--app-name``` and ```--app-version```. You can read about other optional flags [here](../integrating-scribe/valint/command/valint_bom#optional-flags).

**Example**

```
valint bom my_image:my_tag --app-name my_app --app-version 1.0.1
```

It is possible to call Valint more than one step in a build run in order to add necessary information to render an accurate SBOM. At each point, Valint analyzes the data available in that context. The number of calling points depends on the source code language, the package manager type, and the method of building the final artifact. See [advanced SBOM generation](http://tbd). However, generally speaking, it suffices to call valiant at the end of the build pointing its target to the final built artifact such as a container image.

### Managing SBOMs of product trees

You can manage security-related evidence, such as SBOMs, of software products you build or from 3rd party through the Products catalog. Take a minute to explore the Demo Product in your Scribe account to review the different reports available for your products’ vulnerabilities, compliance with supply chain security standards, SBOMs, and contextual metadata.

<img src='../../../img/start/products-start.jpg' alt='Scribe Hub Products Page'/>

To gather evidence from your own products [install the Scribe Valint plugin in your CI system](../integrating-scribe/ci-integrations/).
Once evidence is collected you can drill down to the reports by selecting the relevant product card in the catalog or [search for relevant builds](#searching-for-anything) using a rich set of filters.

### Importing SBOMs generated by other tools

In some cases you might prefer using specific commercial or open-source tools to generate SBOMS of your software artifacts. For example, in a case you wish to reverse a complicated binary artifact. In other cases, you might require to manage in Scribe SBOMs you received from 3rd parties. 
You can import these SBOMs to Scribe Hub and it is also possible to merge these SBOMs with the SBOMs created by Scribe to increase overall accuracy.

To import such an external SBOM call Valint as follows

```
valint bom <filename> -o generic-attest --predicate-type cycloneDX
```

### Sharing SBOMs with your software consumers

You can share SBOMs of versions that you publish with stakeholders such as consumers of the software you build.

Go to the Products catalog and find the relevant product card click ‘Invite Subscribers’ and input the email addresses of the stakeholders. 

<img src='../../../img/start/demo-start-1.jpg' alt='Scribe Hub Demo Product'/>

Next, click the card and select the specific version that you wish to share, and click publish in its rightmost column. Note that at this point you need to manually publish every version explicitly.

### Tracking vulnerabilities and managing security advisories

Once an SBOM is uploaded, Scribe Hub will scan it for known vulnerabilities. To review these vulnerabilities go to Products > {Your Product} > {Version} > Vulnerabilities.

<img src='../../../img/start/vulnerabilities-start.jpg' alt='Scribe Hub Product Build Vulnerabilities Page'/>

**Explanation:**  
**Severity** - severity assigned by the CVE Numbering Authority (CNA)  
**CVE ID** - the published CVE identifier  
**Database** - the name of the CVE Numbering Authority (CNA)  
**CVSS** - CVE’s CVSS version 3.2 score  
**EPSS** - Exploitability probability score as predicted by [https://www.first.org/epss/](https://www.first.org/epss)  
**Package & version** - the package name and version as reported in the SBOM  
**Fix Version** - a newer version that fixes the vulnerability if exists

### Authoring advisories and VEX documents

When sharing an SBOM with the stakeholders you might often require to include relevant advisories to the reported CVEs that explain why the vulnerability doesn’t affect the overall product or otherwise, how the consumer of your software should mitigate this vulnerability.

Your team and your stakeholders can download these advisories in a VEX format which is machine-readable and can be used by Scribe’s policy agent.

To add an advisory to a vulnerability reported go to Products > {Your Product} > {Version} > Vulnerabilities.  
Find the vulnerability according to its ID and click ‘+Add’ in its line in the right-end column.  
A dialog appears:

<img src='../../../img/start/vex-start.jpg' alt='Scribe Hub Product Build Vulnerabilitiy Advisory VEX window'/>

Fill the form according to your analysis of the vulnerability. If you set the status to ‘Not Affected’ the severity would be canceled and the vulnerability line would be pushed to the end of the report.

To export the VEX report click the Export button at the top right and select VEX document.

<img src='../../../img/start/export-start.jpg' alt='Scribe Hub Product Build Vulnerabilitiy Advisory VEX export'/>

### Searching for anything

In the top header in Scribe Hub’s web pages you can find a semi-structured search bar, supporting both filter predicates and free text key works. 

Use the following syntax 

```
filter_predicate1: [value] filter_predicate2: [value] text1 text2
```

There is an implicit boolean ```AND``` predicate between the search terms.

Use the following predicates to filter products as follows:  
**product** - product name  
**cve** - CVE ID  
**buildDateFrom** - search for a build inside a range from a certain date   
**buildDateTo** - search for a build inside a range up to a certain date
